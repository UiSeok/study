#  테스트 컨텍스트 프레임워크



스프링이 가져온 가장 큰 혜택 중 하나는 테스트다.
기술에 종속적이지 않은 코드를 작성하게 해 준다.




## 6.1 테스트 컨텍스트 프레임워크

- 스프링은 테스트에 사용되는 **Application-context**를 생성, 관리하고 테스트에 적용해주는 기능을 가진 **테스트 프레임워크**를 제공한다.



### 6.1.1 테스트 프레임워크와 컨텍스트 테스트

- 자바에서는 JUnit과 TestNG를 주로 사용한다. 
* JUnit은 기존의 JUnit3와 어노테이션 방식인 JUnit 4를 모두 지원한다.
* 기본적으로 두 방식은 어플리케이션 컨텍스트를 사용하는 방식에서 큰 차이가 없다. (책에서는 JUnit으로 설명)



### 테스트용 애플리케이션 컨텍스트 캐싱과 설정파일

- JUnit 4에서는 특정 클래스를 상속하지 않아도 테스트 코드를 작성할 수 있다.
- @Test 어노테이션만 붙이면 각각이 독립적인 테스트 코드가 된다.
- 테스트 코드가 하나라도 들어있는 클래스는 테스트 클래스가 된다.


다만 테스트가 독립적이라고 해서 스프링 컨테이너를 새로 만드는 건 매우 비 효율적이다.

**때문에 스프링에서는 테스트의 컨텍스트를 캐싱해서 동일 구성의 테스트에 같은 컨텍스트를 공유하도록 한다.**

테스트에 테스트 컨텍스트 프레임워크를 적용하려면 테스트 클래스에 두 가지 어노테이션을 부여해줘야 한다.
1. @RunWith(SpringJUnit4ClassRunner.class) : JUnit테스트를 실행하는 Runner를 스프링이 제공해주는 것으로 변경
2. @ContextConfiguration("/test-applicationContext") : 어플리케이션 테스트 컨텍스트가 생성 및 공유된다.
    ContextConfiguration 에 이름을 지정해주지 않으면 하위 패키지에 해당 클래스네임 + '-context.xml' 이 붙은 파일이 디폴트 이름으로 설정된다.
    즉 ~/test/{ClassName}-context.xml인 설정파일을 가진 것으로 간주한다.




### 컨텍스트 설정의 상속과 컨텍스트 로더

JUnit 4의 장점은 테스트 클래스타 특정 클래스를 상속하도록 강제하지 않는다는 것이다.











